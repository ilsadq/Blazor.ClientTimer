@using System.ComponentModel

<timer-countdown end="@UnixTimestamp" 
                 interval="@Interval"
                 format="@Format"/>

@code {

    private double UnixTimestamp => (End.ToUniversalTime() - DateTime.UnixEpoch).TotalSeconds;
    
    /// <summary>
    /// The date and time until which the countdown is running.
    /// </summary>
    [Parameter, EditorRequired] 
    public DateTime End { get; set; }
    
    /// <summary>
    /// The refresh interval for the displayed time in milliseconds.
    /// </summary>
    [Parameter, DefaultValue(1000)]
    public int Interval { get; set; } = 1000;

    /// <summary>
    /// The format for displaying the remaining time (a string compatible with dayjs.duration().format()).
    /// </summary>
    [Parameter, EditorRequired]
    public string Format { get; set; }
    
}